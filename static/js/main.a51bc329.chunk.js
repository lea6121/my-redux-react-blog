(this["webpackJsonpmy-redux-react-blog"]=this["webpackJsonpmy-redux-react-blog"]||[]).push([[0],{45:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){"use strict";n.r(t);var s,o,c,i,r,a,u=n(1),l=n(18),d=n.n(l),b=n(6),j=n(14),p=n(3),f=n(5),O=Object(f.b)(s||(s=Object(b.a)(["\nhtml, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  box-sizing: border-box;\n}\naddress, caption, cite, code, dfn, em, strong, th, var, b {\n  font-weight: normal;\n  font-style: normal;\n}\nabbr, acronym {\n  border: 0;\n}\narticle, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\n  display: block;\n}\n*,\n*::after,\n*::before {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\nhtml {\n  text-size-adjust: 100%;\n  box-sizing: border-box;\n}\nbody {\n    line-height: 1;\n}\nol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote {\n  &:before,   &:after {\n    content: '';\n    content: none;\n  }\n}\nq {\n  &:before,   &:after {\n    content: '';\n    content: none;\n  }\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\ncaption, th {\n  text-align: left;\n}\ntextarea {\n  resize: none;\n}\na {\n  text-decoration: none;\n  cursor: pointer;\n}\nbutton {\n  padding: 0;\n  border: none;\n  background: none;\n}\n"]))),m=Object(f.b)(o||(o=Object(b.a)(["\nhtml {\n  box-sizing: border-box;\n  font-size: 62.5%; \n  font-family: 'HelveticaNeue', Helvetica, Arial, 'Lucida Grande', sans-serif;\n}\n"]))),h=n(2),x=n(17),g="token",v=function(e){localStorage.setItem(g,e)},y=function(){return localStorage.getItem(g)},N="https://student-json-api.lidemy.me",P=function(e){return fetch("".concat(N,"/posts?_sort=createdAt&_order=desc&_page=").concat(e,"&_limit=5")).then((function(e){return{totalPosts:e.headers.get("x-total-count"),posts:e.json()}}))},w=function(){var e=y();return fetch("".concat(N,"/me"),{headers:{authorization:"Bearer ".concat(e)}}).then((function(e){return e.json()}))},L=Object(x.b)({name:"user",initialState:{isLoading:!1,user:null,registerResponse:null,registerError:"",loginResponse:null,loginError:""},reducers:{setIsLoading:function(e,t){e.isLoading=t.payload},setUser:function(e,t){e.user=t.payload},setRegisterResponse:function(e,t){e.registerResponse=t.payload},setRegisterError:function(e,t){e.registerError=t.payload},setLoginResponse:function(e,t){e.loginResponse=t.payload},setLoginError:function(e,t){e.loginError=t.payload}}}),k=L.actions,_=k.setIsLoading,E=k.setUser,S=(k.setRegisterResponse,k.setRegisterError),R=(k.setLoginResponse,k.setLoginError),I=function(e){return function(t){t(_(!0)),function(e){var t=e.nickname,n=e.username,s=e.password;return fetch("".concat(N,"/register"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({nickname:t,username:n,password:s})}).then((function(e){return e.json()}))}(e).then((function(n){if(t(_(!1)),n.code)return t(S(n.message));1===n.ok&&v(n.token),w(n.token,e.history).then((function(n){if(1!==n.ok)return v(null),t(S(n.toString()));alert("\u8a3b\u518a\u6210\u529f\uff01"),t(E(n.data)),e.history.push("/")}))}))}},q=function(e){return function(t){t(_(!0)),function(e){var t=e.username,n=e.password;return fetch("".concat(N,"/login"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify({username:t,password:n})}).then((function(e){return e.json()}))}(e).then((function(n){if(t(_(!1)),0===n.ok)return t(R(n.message));v(n.token),w(n.token,e.history).then((function(n){if(1!==n.ok)return v(null),t(R(n.toString()));alert("\u767b\u5165\u6210\u529f\uff01"),t(E(n.data)),e.history.push("/")}))}))}},z=L.reducer,T=n(0),D=f.c.div(c||(c=Object(b.a)(["\n  letter-spacing: 1px;\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  background-color: white;\n  justify-content: space-evenly;\n  z-index: 2;\n  border-bottom: 1px solid black;\n"]))),C=Object(f.c)(j.b)(i||(i=Object(b.a)(["\n  font-size: 50px;\n  text-decoration: none;\n  color: #010101;\n"]))),U=f.c.div(r||(r=Object(b.a)(["\n  display: flex;\n  color: #010101;\n"]))),A=Object(f.c)(j.b)(a||(a=Object(b.a)(["\n  border-left: 1px solid black;\n  box-sizing: border-box;\n  padding: 35px 40px 35px 40px;\n  font-size: 20px;\n  text-align: center;\n  color: #010101;\n  display: flex;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  text-decoration: none;\n\n  ",";\n"])),(function(e){return e.$active&&"\n    background: rgba(36, 35, 35, 0.9);\n    color: white;\n    "}));function B(){var e=Object(h.b)(),t=Object(p.g)(),n=Object(p.f)(),s=Object(h.c)((function(e){return e.users.user}));return Object(T.jsxs)(D,{children:[Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),Object(T.jsx)(C,{to:"/",$active:"/"===t.pathname,children:"BLOG"}),Object(T.jsxs)(U,{className:"tags",children:[Object(T.jsx)(A,{to:"/about",$active:"/about"===t.pathname,children:"ABOUT"}),s&&Object(T.jsx)(A,{to:"/new-post",$active:"/new-post"===t.pathname,children:"POST"}),!s&&Object(T.jsx)(A,{to:"/login",$active:"/login"===t.pathname,children:"LOG IN"}),s&&Object(T.jsx)(A,{onClick:function(){window.confirm("\u78ba\u8a8d\u767b\u51fa\u55ce\uff1f")&&(v(""),e(E(null)),"/"!==t.pathname&&n.push("/"))},children:"LOG OUT"}),!s&&Object(T.jsx)(A,{to:"/register",$active:"/register"===t.pathname,children:"SIGN UP"})]})]})}var M,G,$,J,F,H,W,K,V,Q=n(12),X=Object(x.b)({name:"posts",initialState:{isLoadingPosts:!1,posts:[],totalPosts:0,isLoadingPost:!1,post:null,isLoadingNewPost:!1,newPostResponse:null,isLoadingEditPost:!1,editedPostResponse:null,isLoadingDeletePost:!1,deletePostResponse:null},reducers:{setIsLoadingPosts:function(e,t){e.isLoadingPosts=t.payload},setPosts:function(e,t){e.posts=t.payload},setTotalPosts:function(e,t){e.totalPosts=t.payload},setIsLoadingPost:function(e,t){e.isLoadingPost=t.payload},setPost:function(e,t){e.post=t.payload},setIsLoadingNewPost:function(e,t){e.isLoadingNewPost=t.payload},setNewPostResponse:function(e,t){e.newPostResponse=t.payload},setIsLoadingEditPost:function(e,t){e.isLoadingEditPost=t.payload},setEditedPostResponse:function(e,t){e.editedPostResponse=t.payload},setIsLoadingDeletePost:function(e,t){e.isLoading=t.payload},setDeletePostResponse:function(e,t){e.deletePostResponse=t.payload}}}),Y=X.actions,Z=Y.setIsLoadingPosts,ee=Y.setPosts,te=Y.setTotalPosts,ne=Y.setIsLoadingPost,se=Y.setPost,oe=Y.setIsLoadingNewPost,ce=Y.setNewPostResponse,ie=Y.setIsLoadingEditPost,re=Y.setEditedPostResponse,ae=Y.setIsLoadingDeletePost,ue=Y.setDeletePostResponse,le=function(e){return function(t){t(Z(!0)),P(e).then((function(e){return t(Z(!1)),t(te(e.totalPosts)),e.posts})).then((function(e){t(ee(e))}))}},de=function(e){return function(t){t(ne(!0)),function(e){return fetch("".concat(N,"/posts/").concat(e)).then((function(e){return e.json()}))}(e).then((function(e){t(se(e)),t(ne(!1))}))}},be=function(e){return function(t){t(oe(!0)),function(e){var t=e.title,n=e.body,s=y();return fetch("".concat(N,"/posts"),{method:"POST",headers:{"content-type":"application/json",authorization:"Bearer ".concat(s)},body:JSON.stringify({title:t,body:n})}).then((function(e){return e.json()}))}(e).then((function(e){t(ce(e)),t(oe(!1))}))}},je=function(e){return function(t){t(ie(!0)),function(e){var t=e.id,n=e.title,s=e.body;return fetch("".concat(N,"/posts/").concat(t),{method:"PATCH",headers:{"content-type":"application/json"},body:JSON.stringify({title:n,body:s})}).then((function(e){return e.json()}))}(e).then((function(e){t(re(e)),t(ie(!1))}))}},pe=function(e){return function(t){t(ae(!0)),function(e){var t=y();return fetch("".concat(N,"/posts/").concat(e),{method:"DELETE",headers:{"content-type":"application/json",authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()}))}(e).then((function(e){t(ue(e)),t(ae(!1));P(1).then((function(e){return t(Z(!1)),t(te(e.totalPosts)),e.posts})).then((function(e){t(ee(e))}))}))}},fe=X.reducer,Oe=f.c.div(M||(M=Object(b.a)(["\n  width: 80%;\n  margin: 0 auto;\n  padding-top: 100px;\n  position: relative;\n"]))),me=f.c.div(G||(G=Object(b.a)(["\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  padding: 40px 10px;\n  border: 1px solid black;\n  margin: 20px;\n"]))),he=f.c.div($||($=Object(b.a)(["\n  padding-bottom: 30px;\n  margin: 0px 18px 15px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n"]))),xe=Object(f.c)(j.b)(J||(J=Object(b.a)(["\n  font-weight: 600;\n  line-height: 4rem;\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n"]))),ge=f.c.div(F||(F=Object(b.a)(["\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.8);\n"]))),ve=f.c.div(H||(H=Object(b.a)(["\n  color: rgba(0, 0, 0, 0.8);\n  margin: 0 18px;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  white-space: pre-line;\n  font-size: 19px;\n  line-height: 4rem;\n"]))),ye=f.c.div(W||(W=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n"]))),Ne=Object(f.c)(j.b)(K||(K=Object(b.a)(["\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.7);\n  text-decoration: none;\n  margin: 10px 5px;\n  font-size: 28px;\n  padding: 10px 18px;\n"]))),Pe=f.c.div(V||(V=Object(b.a)(["\n  font-size: 16px;\n  color: grey;\n  text-align: center;\n  padding: 0 0 50px;\n"])));function we(e){var t=e.post,n=Object(p.g)();return Object(T.jsxs)(me,{children:[Object(T.jsxs)(he,{children:[Object(T.jsx)(xe,{to:"/posts/".concat(t.id),$active:"/article"===n.pathname,children:t.title}),Object(T.jsx)(ge,{children:new Date(t.createdAt).toLocaleString()})]}),Object(T.jsx)(ve,{children:t.body})]})}function Le(){var e=Object(u.useState)(1),t=Object(Q.a)(e,2),n=t[0],s=t[1],o=Object(h.b)(),c=Object(h.c)((function(e){return e.posts.isLoadingPosts})),i=Object(h.c)((function(e){return e.posts.posts})),r=Object(h.c)((function(e){return e.posts.totalPosts}));function a(e){var t=Number(e.target.innerText);s(t),o(le(t))}function l(){for(var e=Math.ceil(r/5),t=[],s=1;s<=e;s++)t.push(s);return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(ye,{children:t.map((function(e,t){return Object(T.jsx)(Ne,{onClick:a,children:e},e)}))}),Object(T.jsxs)(Pe,{children:["\u7b2c ",n," \u9801 / \u5171 ",e," \u9801"]})]})}return Object(u.useEffect)((function(){o(le())}),[o]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),c&&Object(T.jsx)(Ue,{children:"Loading..."}),Object(T.jsxs)(Oe,{children:[i.map((function(e){return Object(T.jsx)(we,{post:e},e.id)})),Object(T.jsx)(l,{})]})]})}n(45);function ke(){return Object(T.jsxs)("div",{children:[Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),Object(T.jsx)("div",{className:"about-container",children:Object(T.jsxs)("div",{className:"about-profile",children:[Object(T.jsx)("div",{className:"about-profile__info",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut ipsum velit, pharetra sit amet hendrerit quis, ultricies non purus. Ut consequat varius eros, sit amet posuere erat sodales eu. Phasellus leo nisl, consectetur vel efficitur a, convallis sed lectus. Nunc rutrum, est nec malesuada dictum, tellus lorem tincidunt ligula, at consectetur felis purus non eros. Vivamus tempor nisi lacus, sed commodo tellus ultricies vel. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Proin sollicitudin, metus in tempus condimentum, lorem sapien interdum dolor, ut posuere dolor lectus at diam. Suspendisse fermentum turpis quis aliquam dignissim. Morbi eu hendrerit erat, vitae imperdiet nisl. Praesent a aliquet urna, a ultrices sem. Sed in consectetur augue."}),Object(T.jsx)("div",{className:"about-profile__pic"})]})})]})}var _e=n(13),Ee=n(7);n(46);function Se(){var e=Object(u.useState)({title:"",body:""}),t=Object(Q.a)(e,2),n=t[0],s=t[1],o=n.title,c=n.body,i=Object(u.useState)(""),r=Object(Q.a)(i,2),a=r[0],l=r[1],d=Object(h.b)(),b=Object(p.f)(),j=Object(h.c)((function(e){return e.users.user})),f=Object(h.c)((function(e){return e.posts.newPostResponse})),x=Object(h.c)((function(e){return e.posts.isLoadingNewPost})),g=function(e){var t=Object(u.useRef)();return Object(u.useEffect)((function(){t.current=e}),[e]),t.current}(x),v=function(e){s(Object(Ee.a)(Object(Ee.a)({},n),{},Object(_e.a)({},e.target.name,e.target.value)))};return Object(u.useEffect)((function(){if(!x&&g)if(f&&f.id)alert("\u767c\u5e03\u6587\u7ae0\u6210\u529f\uff01"),b.push("/posts/".concat(f.id));else if(f.code)return l(f.message)}),[f,b,x,g]),j||(alert("\u8acb\u5148\u767b\u5165\uff01"),b.push("/login")),Object(T.jsxs)("div",{className:"post-wrapper",children:[x&&Object(T.jsx)(Ue,{children:"Loading..."}),Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),Object(T.jsx)("div",{className:"post-container",children:Object(T.jsxs)("form",{className:"post-form",onSubmit:function(e){e.preventDefault(),d(be({title:o,body:c}))},children:[Object(T.jsxs)("div",{className:"post-form__editor",children:[Object(T.jsx)("div",{className:"post-form__title input-group mb-3",children:Object(T.jsx)("input",{type:"text",className:"form-control",placeholder:"Enter the title here...",name:"title",value:o,onChange:v,required:!0})}),Object(T.jsxs)("div",{className:"post-form__content form-floating",children:[Object(T.jsx)("textarea",{className:"form-control",placeholder:"Leave a comment...",name:"body",value:c,onChange:v,required:!0}),Object(T.jsx)("label",{htmlFor:"floatingTextarea2",children:"Leave something here..."})]}),Object(T.jsx)("div",{className:"post-form__error",children:a})]}),Object(T.jsx)("div",{className:"post-form__submit",children:Object(T.jsx)("input",{type:"submit",value:"SUBMIT",className:"post-form__submit-btn"})})]})})]})}n(47);function Re(){var e=Object(u.useState)({title:"",body:""}),t=Object(Q.a)(e,2),n=t[0],s=t[1],o=n.title,c=n.body,i=Object(p.h)(),r=Object(p.f)(),a=Object(h.b)(),l=Object(h.c)((function(e){return e.users.user})),d=Object(h.c)((function(e){return e.posts.isLoadingPost})),b=Object(h.c)((function(e){return e.posts.post})),j=Object(h.c)((function(e){return e.posts.editedPostResponse})),f=Object(h.c)((function(e){return e.posts.isLoadingEditPost})),x=function(e){var t=Object(u.useRef)();return Object(u.useEffect)((function(){t.current=e}),[e]),t.current}(f);Object(u.useEffect)((function(){a(de(i.id))}),[i.id,a]);var g=function(e){s(Object(Ee.a)(Object(Ee.a)({},n),{},Object(_e.a)({},e.target.name,e.target.value)))};return Object(u.useEffect)((function(){!f&&x&&j&&j.id&&r.push("/posts/".concat(j.id))}),[j,r,f,x]),l||(alert("\u8acb\u5148\u767b\u5165\uff01"),r.push("/login")),Object(T.jsx)(T.Fragment,{children:b&&Object(T.jsxs)("div",{className:"edit-post-wrapper",children:[(d||f)&&Object(T.jsx)(Ue,{children:"Loading..."}),Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),Object(T.jsx)("div",{className:"edit-post-container",children:Object(T.jsxs)("form",{className:"edit-post-form",onSubmit:function(e){e.preventDefault();var t=i.id;window.confirm("\u78ba\u5b9a\u4fee\u6539\u6587\u7ae0\u55ce\uff1f")&&a(je({id:t,title:o,body:c}))},children:[Object(T.jsxs)("div",{className:"edit-post-form__editor",children:[Object(T.jsx)("div",{className:"edit-post-form__title input-group mb-3",children:Object(T.jsx)("input",{type:"text",className:"form-control",placeholder:b.title,name:"title",value:o,onChange:g,required:!0})}),Object(T.jsx)("div",{className:"edit-post-form__content form-group",children:Object(T.jsx)("textarea",{className:"form-control",placeholder:b.body,name:"body",value:c,onChange:g,required:!0})})]}),Object(T.jsx)("div",{className:"edit-post-form__submit",children:Object(T.jsx)("input",{type:"submit",value:"SUBMIT",className:"edit-post-form__submit-btn"})})]})})]})})}n(48);function Ie(){var e=Object(u.useState)({username:"",password:""}),t=Object(Q.a)(e,2),n=t[0],s=t[1],o=n.username,c=n.password,i=function(e){s(Object(Ee.a)(Object(Ee.a)({},n),{},Object(_e.a)({},e.target.name,e.target.value)))},r=Object(p.f)(),a=Object(h.b)(),l=Object(h.c)((function(e){return e.users.isLoading})),d=Object(h.c)((function(e){return e.users.loginError}));return Object(u.useEffect)((function(){return function(){a(R(null))}}),[a]),Object(T.jsxs)("div",{className:"login-wrapper",children:[Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),l&&Object(T.jsx)(Ue,{children:"Loading..."}),Object(T.jsx)("div",{className:"login-container",children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(q({username:o,password:c,history:r}))},children:[Object(T.jsxs)("div",{className:"login-form",children:["USERNAME",Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"login-input",type:"text",name:"username",value:o,onChange:function(e){return i(e)},required:!0}),Object(T.jsx)("br",{})]}),Object(T.jsxs)("div",{className:"login-form",children:["PASSWORD",Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"login-input",type:"password",name:"password",value:c,onChange:function(e){return i(e)},required:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:d})]}),Object(T.jsx)("div",{children:Object(T.jsx)("input",{className:"login-submit",type:"submit",value:"SIGN IN"})})]})})]})}n(49);function qe(){var e=Object(u.useState)({nickname:"",username:"",password:""}),t=Object(Q.a)(e,2),n=t[0],s=t[1],o=n.nickname,c=n.username,i=n.password,r=function(e){s(Object(Ee.a)(Object(Ee.a)({},n),{},Object(_e.a)({},e.target.name,e.target.value)))},a=Object(h.b)(),l=Object(p.f)(),d=Object(h.c)((function(e){return e.users.isLoading})),b=Object(h.c)((function(e){return e.users.registerError}));return Object(u.useEffect)((function(){return function(){a(S(null))}}),[a]),Object(T.jsxs)("div",{className:"register-wrapper",children:[Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),d&&Object(T.jsx)(Ue,{children:"Loading..."}),Object(T.jsx)("div",{className:"register-container",children:Object(T.jsxs)("form",{onSubmit:function(e){e.preventDefault(),a(I({nickname:o,username:c,password:i,history:l}))},children:[Object(T.jsxs)("div",{className:"register-form",children:["NICKNAME",Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"register-input",type:"text",name:"nickname",placeholder:"\u60a8\u7684\u66b1\u7a31",value:o,onChange:function(e){return r(e)},required:!0}),Object(T.jsx)("br",{})]}),Object(T.jsxs)("div",{className:"register-form",children:["USERNAME",Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"register-input",type:"text",name:"username",placeholder:"\u60a8\u7684\u4f7f\u7528\u8005\u540d\u7a31",value:c,onChange:function(e){return r(e)},required:!0}),Object(T.jsx)("br",{})]}),Object(T.jsxs)("div",{className:"register-form",children:["PASSWORD",Object(T.jsx)("br",{}),Object(T.jsx)("input",{className:"register-input",type:"password",name:"password",placeholder:"\u60a8\u7684\u5bc6\u78bc",value:i,onChange:function(e){return r(e)},required:!0}),Object(T.jsx)("br",{}),Object(T.jsx)("span",{children:b})]}),Object(T.jsx)("div",{children:Object(T.jsx)("input",{className:"register-submit",type:"submit",value:"SUBMIT"})})]})})]})}var ze,Te;n(50);function De(){var e=Object(h.c)((function(e){return e.users.user})),t=Object(p.h)(),n=Object(p.f)(),s=Object(h.b)(),o=Object(h.c)((function(e){return e.posts.isLoadingPost})),c=Object(h.c)((function(e){return e.posts.post})),i=Object(h.c)((function(e){return e.posts.isLoadingDeletePost}));Object(u.useEffect)((function(){s(de(t.id))}),[t.id,s]);return Object(u.useEffect)((function(){return function(){s(se(null))}}),[s]),Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(O,{}),Object(T.jsx)(m,{}),Object(T.jsx)("div",{children:c&&Object(T.jsxs)("div",{className:"article",children:[(o||i)&&Object(T.jsx)(Ue,{children:"Loading..."}),Object(T.jsx)("h1",{children:c.title}),Object(T.jsx)("p",{children:new Date(c.createdAt).toLocaleString()}),Object(T.jsx)("div",{className:"article__content",children:c.body}),Object(T.jsxs)("div",{className:"article__content-btns",children:[Object(T.jsx)("button",{type:"button",className:"article__content-btn btn btn-dark",onClick:function(){n.push("/")},children:"\u56de\u6587\u7ae0\u5217\u8868"}),Object(T.jsxs)("div",{children:[e&&Object(T.jsx)("a",{href:"#/edit-post/".concat(t.id),children:Object(T.jsx)("button",{type:"button",className:"article__content-btn btn btn-outline-dark",children:"EDIT"})}),e&&Object(T.jsx)("button",{type:"button",className:"article__content-btn btn btn-outline-dark",onClick:function(){window.confirm("\u78ba\u5b9a\u522a\u9664\u6587\u7ae0\u55ce\uff1f")&&(s(pe(t.id)),n.push("/"))},children:"DELETE"})]})]})]})})]})}var Ce=f.c.div(ze||(ze=Object(b.a)(["\n  letter-spacing: 1px;\n  max-width: 100vw;\n  font-family: Baskerville, Georgia, 'Times New Roman', Times, serif;\n"]))),Ue=f.c.div(Te||(Te=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.9);\n  font-weight: 600;\n  color: white;\n  font-size: 72px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  z-index: 1;\n"])));var Ae=function(){var e=Object(h.b)(),t=Object(h.c)((function(e){return e.users.user}));return Object(u.useEffect)((function(){y()&&e((function(e){w().then((function(t){t.ok&&e(E(t.data))}))}))}),[e]),Object(T.jsx)("div",{value:{user:t,setUser:E},children:Object(T.jsx)(Ce,{children:Object(T.jsxs)(j.a,{children:[Object(T.jsx)(B,{}),Object(T.jsxs)(p.c,{children:[Object(T.jsx)(p.a,{exact:!0,path:"/",children:Object(T.jsx)(Le,{})}),Object(T.jsx)(p.a,{path:"/about",children:Object(T.jsx)(ke,{})}),Object(T.jsx)(p.a,{path:"/new-post",children:Object(T.jsx)(Se,{})}),Object(T.jsx)(p.a,{path:"/edit-post/:id",children:Object(T.jsx)(Re,{})}),Object(T.jsx)(p.a,{path:"/login",children:Object(T.jsx)(Ie,{})}),Object(T.jsx)(p.a,{path:"/register",children:Object(T.jsx)(qe,{})}),Object(T.jsx)(p.a,{path:"/posts/:id",children:Object(T.jsx)(De,{})})]})]})})})},Be=Object(x.a)({reducer:{posts:fe,users:z}});d.a.render(Object(T.jsx)(h.a,{store:Be,children:Object(T.jsx)(f.a,{theme:{colors:{primary_300:"#3333dd",primary_400:"#e33e3e",primary_500:"#af0505"}},children:Object(T.jsx)(Ae,{})})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.a51bc329.chunk.js.map