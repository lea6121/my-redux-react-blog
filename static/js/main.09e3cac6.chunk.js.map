{"version":3,"sources":["globalStyle.js","utils.js","WebAPI.js","redux/reducers/userReducer.js","components/Header/Header.js","redux/reducers/postReducer.js","pages/HomePage/HomePage.js","pages/AboutPage/AboutPage.js","pages/PostPage/PostPage.js","pages/EditPostPage/EditPostPage.js","pages/LoginPage/LoginPage.js","pages/RegisterPage/RegisterPage.js","pages/ArticlePage/ArticlePage.js","components/App/App.js","redux/store.js","index.js"],"names":["ResetStyle","createGlobalStyle","GlobalStyle","TOKEN_NAME","setAuthToken","token","localStorage","setItem","getAuthToken","getItem","BASE_URL","getPosts","page","fetch","then","res","totalPosts","headers","get","posts","json","getMe","authorization","userReducer","createSlice","name","initialState","isLoading","user","registerResponse","registerError","loginResponse","loginError","reducers","setIsLoading","state","action","payload","setUser","setRegisterResponse","setRegisterError","setLoginResponse","setLoginError","actions","register","data","dispatch","nickname","username","password","method","body","JSON","stringify","registerAPI","code","message","ok","getMeAPI","history","toString","alert","push","login","loginAPI","HeaderContainer","styled","div","Brand","Link","NavbarList","Nav","props","$active","Header","useDispatch","location","useLocation","useHistory","useSelector","store","users","to","pathname","className","onClick","window","confirm","postReducer","isLoadingPosts","isLoadingPost","post","isLoadingNewPost","newPostResponse","isLoadingEditPost","editedPostResponse","isLoadingDeletePost","deletePostResponse","setIsLoadingPosts","setPosts","setTotalPosts","setIsLoadingPost","setPost","setIsLoadingNewPost","setNewPostResponse","setIsLoadingEditPost","setEditedPostResponse","setIsLoadingDeletePost","setDeletePostResponse","getPostsAPI","getPost","id","getPostAPI","article","postNewPost","title","postNewPostAPI","editPost","editPostAPI","deletePost","deletePostAPI","Root","PostsContainer","PostTopContainer","PostTitle","PostDate","PostContent","PaginationContainer","Pagination","PageTeller","Post","Date","createdAt","toLocaleString","HomePage","useState","currentPage","setCurrentPage","isLoadingPostsMsg","changePage","e","currentPageNum","Number","target","innerText","RenderPagination","totalPages","Math","ceil","pageNumbers","i","map","value","index","useEffect","Loading","AboutPage","PostPage","formData","setFormData","errors","setErrors","isLoadingNewPostMsg","preIsLoadingNewPostMsg","ref","useRef","current","usePrevious","handleInputChange","onSubmit","preventDefault","type","placeholder","onChange","required","htmlFor","EditPostPage","params","useParams","isLoadingPostMsg","isLoadingEditPostMsg","preIsLoadingEditPostMsg","LoginPage","updateFormData","isLoadingMsg","errorMsg","RegisterPage","ArticlePage","isLoadingDeleteMsg","href","App","exact","path","configureStore","reducer","ReactDOM","render","theme","colors","primary_300","primary_400","primary_500","document","getElementById"],"mappings":"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","file":"static/js/main.09e3cac6.chunk.js","sourcesContent":["import { createGlobalStyle } from 'styled-components'\n\nexport const ResetStyle = createGlobalStyle`\nhtml, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {\n  margin: 0;\n  padding: 0;\n  border: 0;\n  font-size: 100%;\n  font: inherit;\n  vertical-align: baseline;\n  box-sizing: border-box;\n}\naddress, caption, cite, code, dfn, em, strong, th, var, b {\n  font-weight: normal;\n  font-style: normal;\n}\nabbr, acronym {\n  border: 0;\n}\narticle, aside, details, figcaption, figure, footer, header, hgroup, menu, nav, section {\n  display: block;\n}\n*,\n*::after,\n*::before {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\nhtml {\n  text-size-adjust: 100%;\n  box-sizing: border-box;\n}\nbody {\n    line-height: 1;\n}\nol, ul {\n  list-style: none;\n}\nblockquote, q {\n  quotes: none;\n}\nblockquote {\n  &:before,   &:after {\n    content: '';\n    content: none;\n  }\n}\nq {\n  &:before,   &:after {\n    content: '';\n    content: none;\n  }\n}\ntable {\n  border-collapse: collapse;\n  border-spacing: 0;\n}\ncaption, th {\n  text-align: left;\n}\ntextarea {\n  resize: none;\n}\na {\n  text-decoration: none;\n  cursor: pointer;\n}\nbutton {\n  padding: 0;\n  border: none;\n  background: none;\n}\n`\nexport const GlobalStyle = createGlobalStyle`\nhtml {\n  box-sizing: border-box;\n  font-size: 62.5%; \n  font-family: 'HelveticaNeue', Helvetica, Arial, 'Lucida Grande', sans-serif;\n}\n`\n","const TOKEN_NAME = 'token'\n\nexport const setAuthToken = (token) => {\n  localStorage.setItem(TOKEN_NAME, token)\n}\n\nexport const getAuthToken = () => {\n  return localStorage.getItem(TOKEN_NAME)\n}\n","import { getAuthToken } from './utils'\n\nconst BASE_URL = 'https://student-json-api.lidemy.me'\n\nexport const getPosts = (page) => {\n  return fetch(\n    `${BASE_URL}/posts?_sort=createdAt&_order=desc&_page=${page}&_limit=5`\n  ).then((res) => {\n    let totalPosts = res.headers.get('x-total-count')\n    let posts = res.json()\n    return { totalPosts, posts }\n  })\n}\n\nexport const getPost = (id) => {\n  return fetch(`${BASE_URL}/posts/${id}`).then((res) => res.json())\n}\n\nexport const login = ({ username, password }) => {\n  return fetch(`${BASE_URL}/login`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      username,\n      password\n    })\n  }).then((res) => res.json())\n}\n\nexport const getMe = () => {\n  const token = getAuthToken()\n  return fetch(`${BASE_URL}/me`, {\n    headers: {\n      authorization: `Bearer ${token}`\n    }\n  }).then((res) => res.json())\n}\n\nexport const register = ({ nickname, username, password }) => {\n  return fetch(`${BASE_URL}/register`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      nickname,\n      username,\n      password\n    })\n  }).then((res) => res.json())\n}\n\nexport const postNewPost = ({ title, body }) => {\n  const token = getAuthToken()\n  return fetch(`${BASE_URL}/posts`, {\n    method: 'POST',\n    headers: {\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`\n    },\n    body: JSON.stringify({\n      title,\n      body\n    })\n  }).then((res) => res.json())\n}\n\nexport const deletePost = (id) => {\n  const token = getAuthToken()\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'content-type': 'application/json',\n      authorization: `Bearer ${token}`\n    }\n  }).then((res) => res.json())\n}\n\nexport const editPost = ({ id, title, body }) => {\n  return fetch(`${BASE_URL}/posts/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'content-type': 'application/json'\n    },\n    body: JSON.stringify({\n      title,\n      body\n    })\n  }).then((res) => res.json())\n}\n","import { createSlice } from '@reduxjs/toolkit'\nimport { setAuthToken } from '../../utils'\nimport {\n  getMe as getMeAPI,\n  register as registerAPI,\n  login as loginAPI\n} from '../../WebAPI'\n\nconst initialState = {\n  isLoading: false,\n  user: null,\n  registerResponse: null,\n  registerError: '',\n  loginResponse: null,\n  loginError: ''\n}\n\nexport const userReducer = createSlice({\n  name: 'user',\n  initialState,\n  reducers: {\n    setIsLoading: (state, action) => {\n      state.isLoading = action.payload\n    },\n\n    setUser: (state, action) => {\n      state.user = action.payload\n    },\n\n    setRegisterResponse: (state, action) => {\n      state.registerResponse = action.payload\n    },\n\n    setRegisterError: (state, action) => {\n      state.registerError = action.payload\n    },\n\n    setLoginResponse: (state, action) => {\n      state.loginResponse = action.payload\n    },\n\n    setLoginError: (state, action) => {\n      state.loginError = action.payload\n    }\n  }\n})\n\nexport const {\n  setIsLoading,\n  setUser,\n  setRegisterResponse,\n  setRegisterError,\n  setLoginResponse,\n  setLoginError\n} = userReducer.actions\n\nexport const register = (data) => (dispatch) => {\n  dispatch(setIsLoading(true))\n  registerAPI(data).then((res) => {\n    dispatch(setIsLoading(false))\n    if (res.code) {\n      return dispatch(setRegisterError(res.message))\n    }\n    if (res.ok === 1) {\n      setAuthToken(res.token)\n    }\n\n    getMeAPI(res.token, data.history).then((res) => {\n      if (res.ok !== 1) {\n        setAuthToken(null)\n        return dispatch(setRegisterError(res.toString()))\n      }\n      alert('註冊成功！')\n      dispatch(setUser(res.data))\n      data.history.push('/')\n    })\n  })\n}\n\nexport const login = (data) => (dispatch) => {\n  dispatch(setIsLoading(true))\n  loginAPI(data).then((res) => {\n    dispatch(setIsLoading(false))\n    if (res.ok === 0) {\n      return dispatch(setLoginError(res.message))\n    }\n    setAuthToken(res.token)\n\n    getMeAPI(res.token, data.history).then((res) => {\n      if (res.ok !== 1) {\n        setAuthToken(null)\n        return dispatch(setLoginError(res.toString()))\n      }\n      alert('登入成功！')\n      dispatch(setUser(res.data))\n      data.history.push('/')\n    })\n  })\n}\n\nexport const getMe = () => (dispatch) => {\n  getMeAPI().then((res) => {\n    if (res.ok) {\n      dispatch(setUser(res.data))\n    }\n  })\n}\n\nexport default userReducer.reducer\n","import styled from 'styled-components'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport { Link, useLocation, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setUser } from '../../redux/reducers/userReducer'\nimport { setAuthToken } from '../../utils'\n\nconst HeaderContainer = styled.div`\n  letter-spacing: 1px;\n  width: 100vw;\n  display: flex;\n  align-items: center;\n  position: fixed;\n  background-color: white;\n  justify-content: space-evenly;\n  z-index: 2;\n  border-bottom: 1px solid black;\n`\n\nconst Brand = styled(Link)`\n  font-size: 50px;\n  text-decoration: none;\n  color: #010101;\n`\n\nconst NavbarList = styled.div`\n  display: flex;\n  color: #010101;\n`\n\nconst Nav = styled(Link)`\n  border-left: 1px solid black;\n  box-sizing: border-box;\n  padding: 35px 40px 35px 40px;\n  font-size: 20px;\n  text-align: center;\n  color: #010101;\n  display: flex;\n  transition: all 0.2s ease-in;\n  cursor: pointer;\n  text-decoration: none;\n\n  ${(props) =>\n    props.$active &&\n    `\n    background: rgba(36, 35, 35, 0.9);\n    color: white;\n    `};\n`\n\nexport default function Header() {\n  const dispatch = useDispatch()\n  const location = useLocation()\n  const history = useHistory()\n  const user = useSelector((store) => store.users.user)\n\n  const handleLogout = () => {\n    const logoutMsg = window.confirm('確認登出嗎？')\n    if (logoutMsg) {\n      setAuthToken('')\n      dispatch(setUser(null))\n      if (location.pathname !== '/') {\n        history.push('/')\n      }\n    }\n  }\n\n  return (\n    <HeaderContainer>\n      <ResetStyle />\n      <GlobalStyle />\n      <Brand to=\"/\" $active={location.pathname === '/'}>\n        BLOG\n      </Brand>\n      <NavbarList className=\"tags\">\n        <Nav to=\"/about\" $active={location.pathname === '/about'}>\n          ABOUT\n        </Nav>\n        {user && (\n          <Nav to=\"/new-post\" $active={location.pathname === '/new-post'}>\n            POST\n          </Nav>\n        )}\n        {!user && (\n          <Nav to=\"/login\" $active={location.pathname === '/login'}>\n            LOG IN\n          </Nav>\n        )}\n        {user && <Nav onClick={handleLogout}>LOG OUT</Nav>}\n        {!user && (\n          <Nav to=\"/register\" $active={location.pathname === '/register'}>\n            SIGN UP\n          </Nav>\n        )}\n      </NavbarList>\n    </HeaderContainer>\n  )\n}\n","import { createSlice } from '@reduxjs/toolkit'\nimport {\n  getPosts as getPostsAPI,\n  getPost as getPostAPI,\n  postNewPost as postNewPostAPI,\n  editPost as editPostAPI,\n  deletePost as deletePostAPI\n} from '../../WebAPI'\n\nconst initialState = {\n  isLoadingPosts: false,\n  posts: [],\n  totalPosts: 0,\n  isLoadingPost: false,\n  post: null,\n  isLoadingNewPost: false,\n  newPostResponse: null,\n  isLoadingEditPost: false,\n  editedPostResponse: null,\n  isLoadingDeletePost: false,\n  deletePostResponse: null\n}\n\nexport const postReducer = createSlice({\n  name: 'posts',\n  initialState,\n  reducers: {\n    setIsLoadingPosts: (state, action) => {\n      state.isLoadingPosts = action.payload\n    },\n\n    setPosts: (state, action) => {\n      state.posts = action.payload\n    },\n\n    setTotalPosts: (state, action) => {\n      state.totalPosts = action.payload\n    },\n\n    setIsLoadingPost: (state, action) => {\n      state.isLoadingPost = action.payload\n    },\n\n    setPost: (state, action) => {\n      state.post = action.payload\n    },\n\n    setIsLoadingNewPost: (state, action) => {\n      state.isLoadingNewPost = action.payload\n    },\n\n    setNewPostResponse: (state, action) => {\n      state.newPostResponse = action.payload\n    },\n\n    setIsLoadingEditPost: (state, action) => {\n      state.isLoadingEditPost = action.payload\n    },\n\n    setEditedPostResponse: (state, action) => {\n      state.editedPostResponse = action.payload\n    },\n\n    setIsLoadingDeletePost: (state, action) => {\n      state.isLoading = action.payload\n    },\n\n    setDeletePostResponse: (state, action) => {\n      state.deletePostResponse = action.payload\n    }\n  }\n})\n\nexport const {\n  setIsLoadingPosts,\n  setPosts,\n  setTotalPosts,\n  setIsLoadingPost,\n  setPost,\n  setIsLoadingNewPost,\n  setNewPostResponse,\n  setIsLoadingEditPost,\n  setEditedPostResponse,\n  setIsLoadingDeletePost,\n  setDeletePostResponse\n} = postReducer.actions\n\nexport const getPosts = (page) => (dispatch) => {\n  dispatch(setIsLoadingPosts(true))\n  getPostsAPI(page)\n    .then((data) => {\n      dispatch(setIsLoadingPosts(false))\n      dispatch(setTotalPosts(data.totalPosts))\n      return data.posts\n    })\n    .then((posts) => {\n      dispatch(setPosts(posts))\n    })\n}\n\nexport const getPost = (id) => (dispatch) => {\n  dispatch(setIsLoadingPost(true))\n  getPostAPI(id).then((article) => {\n    dispatch(setPost(article))\n    dispatch(setIsLoadingPost(false))\n  })\n}\n\nexport const postNewPost = (data) => (dispatch) => {\n  dispatch(setIsLoadingNewPost(true))\n  postNewPostAPI(data).then((res) => {\n    dispatch(setNewPostResponse(res))\n    dispatch(setIsLoadingNewPost(false))\n  })\n}\n\nexport const editPost = (data) => (dispatch) => {\n  dispatch(setIsLoadingEditPost(true))\n  editPostAPI(data).then((res) => {\n    dispatch(setEditedPostResponse(res))\n    dispatch(setIsLoadingEditPost(false))\n  })\n}\n\nexport const deletePost = (id) => (dispatch) => {\n  dispatch(setIsLoadingDeletePost(true))\n  deletePostAPI(id).then((res) => {\n    dispatch(setDeletePostResponse(res))\n    dispatch(setIsLoadingDeletePost(false))\n    let page = 1\n    getPostsAPI(page)\n      .then((data) => {\n        dispatch(setIsLoadingPosts(false))\n        dispatch(setTotalPosts(data.totalPosts))\n        return data.posts\n      })\n      .then((posts) => {\n        dispatch(setPosts(posts))\n      })\n  })\n}\n\nexport default postReducer.reducer\n","import React, { useState, useEffect } from 'react'\nimport { Link, useLocation } from 'react-router-dom'\nimport styled from 'styled-components'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport { getPosts } from '../../redux/reducers/postReducer'\nimport { Loading } from '../../components/App/App'\nimport { useDispatch, useSelector } from 'react-redux'\n\nconst Root = styled.div`\n  width: 80%;\n  margin: 0 auto;\n  padding-top: 100px;\n  position: relative;\n`\n\nconst PostsContainer = styled.div`\n  border-bottom: 1px solid rgba(0, 12, 34, 0.2);\n  padding: 40px 10px;\n  border: 1px solid black;\n  margin: 20px;\n`\n\nconst PostTopContainer = styled.div`\n  padding-bottom: 30px;\n  margin: 0px 18px 15px 16px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\nconst PostTitle = styled(Link)`\n  font-weight: 600;\n  line-height: 4rem;\n  font-size: 24px;\n  color: #333;\n  text-decoration: none;\n`\n\nconst PostDate = styled.div`\n  font-size: 14px;\n  color: rgba(0, 0, 0, 0.8);\n`\n\nconst PostContent = styled.div`\n  color: rgba(0, 0, 0, 0.8);\n  margin: 0 18px;\n  display: -webkit-box;\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  overflow: hidden;\n  white-space: pre-line;\n  font-size: 19px;\n  line-height: 4rem;\n`\n\nconst PaginationContainer = styled.div`\n  display: flex;\n  justify-content: center;\n  padding: 20px;\n`\n\nconst Pagination = styled(Link)`\n  font-weight: 500;\n  color: rgba(0, 0, 0, 0.7);\n  text-decoration: none;\n  margin: 10px 5px;\n  font-size: 20px;\n  padding: 10px;\n`\nconst PageTeller = styled.div`\n  font-size: 16px;\n  color: grey;\n  text-align: center;\n  padding: 0 0 50px;\n`\nfunction Post({ post }) {\n  const location = useLocation()\n\n  return (\n    <PostsContainer>\n      <PostTopContainer>\n        <PostTitle\n          to={`/posts/${post.id}`}\n          $active={location.pathname === '/article'}\n        >\n          {post.title}\n        </PostTitle>\n        <PostDate>{new Date(post.createdAt).toLocaleString()}</PostDate>\n      </PostTopContainer>\n      <PostContent>{post.body}</PostContent>\n    </PostsContainer>\n  )\n}\n\nexport default function HomePage() {\n  const [currentPage, setCurrentPage] = useState(1)\n  const dispatch = useDispatch()\n  const isLoadingPostsMsg = useSelector((store) => store.posts.isLoadingPosts)\n  const posts = useSelector((store) => store.posts.posts)\n  const totalPosts = useSelector((store) => store.posts.totalPosts)\n\n  useEffect(() => {\n    dispatch(getPosts())\n  }, [dispatch])\n\n  function changePage(e) {\n    const currentPageNum = Number(e.target.innerText)\n    setCurrentPage(currentPageNum)\n    dispatch(getPosts(currentPageNum))\n  }\n\n  function RenderPagination() {\n    const totalPages = Math.ceil(totalPosts / 5)\n    let pageNumbers = []\n    for (let i = 1; i <= totalPages; i++) {\n      pageNumbers.push(i)\n    }\n    return (\n      <>\n        <PaginationContainer>\n          {pageNumbers.map((value, index) => (\n            <Pagination key={value} onClick={changePage}>\n              {value}\n            </Pagination>\n          ))}\n        </PaginationContainer>\n        <PageTeller>\n          第 {currentPage} 頁 / 共 {totalPages} 頁\n        </PageTeller>\n      </>\n    )\n  }\n\n  return (\n    <>\n      <ResetStyle />\n      <GlobalStyle />\n      {isLoadingPostsMsg && <Loading>Loading...</Loading>}\n      <Root>\n        {posts.map((post) => (\n          <Post key={post.id} post={post} />\n        ))}\n        <RenderPagination></RenderPagination>\n      </Root>\n    </>\n  )\n}\n","import { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport './about.css'\n\nexport default function AboutPage() {\n  return (\n    <div>\n      <ResetStyle />\n      <GlobalStyle />\n      <div className=\"about-container\">\n        <div className=\"about-profile\">\n          <div className=\"about-profile__info\">\n            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Ut ipsum\n            velit, pharetra sit amet hendrerit quis, ultricies non purus. Ut\n            consequat varius eros, sit amet posuere erat sodales eu. Phasellus\n            leo nisl, consectetur vel efficitur a, convallis sed lectus. Nunc\n            rutrum, est nec malesuada dictum, tellus lorem tincidunt ligula, at\n            consectetur felis purus non eros. Vivamus tempor nisi lacus, sed\n            commodo tellus ultricies vel. Class aptent taciti sociosqu ad litora\n            torquent per conubia nostra, per inceptos himenaeos. Proin\n            sollicitudin, metus in tempus condimentum, lorem sapien interdum\n            dolor, ut posuere dolor lectus at diam. Suspendisse fermentum turpis\n            quis aliquam dignissim. Morbi eu hendrerit erat, vitae imperdiet\n            nisl. Praesent a aliquet urna, a ultrices sem. Sed in consectetur\n            augue.\n          </div>\n          <div className=\"about-profile__pic\"></div>\n        </div>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState, useRef } from 'react'\nimport { useHistory } from 'react-router'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport './post.css'\nimport { Loading } from '../../components/App/App'\nimport { postNewPost } from '../../redux/reducers/postReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\nfunction usePrevious(value) {\n  const ref = useRef()\n\n  useEffect(() => {\n    ref.current = value\n  }, [value])\n\n  return ref.current\n}\n\nexport default function PostPage() {\n  const [formData, setFormData] = useState({\n    title: '',\n    body: ''\n  })\n  const { title, body } = formData\n  const [errors, setErrors] = useState('')\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const user = useSelector((store) => store.users.user)\n  const newPostResponse = useSelector((store) => store.posts.newPostResponse)\n  const isLoadingNewPostMsg = useSelector(\n    (store) => store.posts.isLoadingNewPost\n  )\n  const preIsLoadingNewPostMsg = usePrevious(isLoadingNewPostMsg)\n\n  const handleInputChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault()\n    dispatch(postNewPost({ title, body }))\n  }\n\n  /* 監聽 newPostResponse\n  1. 發 request 前，isLoadingMsg = false, preIsLoadingNewPost = false\n  2. 發 request 後，isLoadingMsg = true, preIsLoadingNewPost = false\n  3. 收到 response，isLoadingMsg = false, preIsLoadingNewPost = true\n  */\n\n  useEffect(() => {\n    if (!isLoadingNewPostMsg && preIsLoadingNewPostMsg) {\n      if (newPostResponse && newPostResponse.id) {\n        alert('發布文章成功！')\n        history.push(`/posts/${newPostResponse.id}`)\n      } else if (newPostResponse.code) {\n        return setErrors(newPostResponse.message)\n      }\n    }\n  }, [newPostResponse, history, isLoadingNewPostMsg, preIsLoadingNewPostMsg])\n\n  if (!user) {\n    alert('請先登入！')\n    history.push('/login')\n  }\n\n  return (\n    <div className=\"post-wrapper\">\n      {isLoadingNewPostMsg && <Loading>Loading...</Loading>}\n      <ResetStyle />\n      <GlobalStyle />\n      <div className=\"post-container\">\n        <form className=\"post-form\" onSubmit={handleFormSubmit}>\n          <div className=\"post-form__editor\">\n            <div className=\"post-form__title input-group mb-3\">\n              <input\n                type=\"text\"\n                className=\"form-control\"\n                placeholder=\"Enter the title here...\"\n                name=\"title\"\n                value={title}\n                onChange={handleInputChange}\n                required\n              />\n            </div>\n            <div className=\"post-form__content form-floating\">\n              <textarea\n                className=\"form-control\"\n                placeholder=\"Leave a comment...\"\n                name=\"body\"\n                value={body}\n                onChange={handleInputChange}\n                required\n              ></textarea>\n              <label htmlFor=\"floatingTextarea2\">Leave something here...</label>\n            </div>\n            <div className=\"post-form__error\">{errors}</div>\n          </div>\n\n          <div className=\"post-form__submit\">\n            <input\n              type=\"submit\"\n              value=\"SUBMIT\"\n              className=\"post-form__submit-btn\"\n            />\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect, useState, useRef } from 'react'\nimport { useHistory } from 'react-router'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport './editPost.css'\nimport { Loading } from '../../components/App/App'\nimport { getPost, editPost } from '../../redux/reducers/postReducer'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useParams } from 'react-router-dom'\n\nfunction usePrevious(value) {\n  const ref = useRef()\n\n  useEffect(() => {\n    ref.current = value\n  }, [value])\n\n  return ref.current\n}\n\nexport default function EditPostPage() {\n  const [formData, setFormData] = useState({\n    title: '',\n    body: ''\n  })\n  const { title, body } = formData\n  const params = useParams()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const user = useSelector((store) => store.users.user)\n  const isLoadingPostMsg = useSelector((store) => store.posts.isLoadingPost)\n  const article = useSelector((store) => store.posts.post)\n  const editedPostResponse = useSelector(\n    (store) => store.posts.editedPostResponse\n  )\n  const isLoadingEditPostMsg = useSelector(\n    (store) => store.posts.isLoadingEditPost\n  )\n  const preIsLoadingEditPostMsg = usePrevious(isLoadingEditPostMsg)\n\n  useEffect(() => {\n    dispatch(getPost(params.id))\n  }, [params.id, dispatch])\n\n  const handleInputChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const handleFormSubmit = (e) => {\n    e.preventDefault()\n    let id = params.id\n    let editMsg = window.confirm('確定修改文章嗎？')\n    if (editMsg) {\n      dispatch(editPost({ id, title, body }))\n    }\n  }\n\n  useEffect(() => {\n    if (!isLoadingEditPostMsg && preIsLoadingEditPostMsg) {\n      if (editedPostResponse && editedPostResponse.id) {\n        history.push(`/posts/${editedPostResponse.id}`)\n      }\n    }\n  }, [\n    editedPostResponse,\n    history,\n    isLoadingEditPostMsg,\n    preIsLoadingEditPostMsg\n  ])\n\n  if (!user) {\n    alert('請先登入！')\n    history.push('/login')\n  }\n\n  return (\n    <>\n      {article && (\n        <div className=\"edit-post-wrapper\">\n          {(isLoadingPostMsg || isLoadingEditPostMsg) && (\n            <Loading>Loading...</Loading>\n          )}\n          <ResetStyle />\n          <GlobalStyle />\n          <div className=\"edit-post-container\">\n            <form className=\"edit-post-form\" onSubmit={handleFormSubmit}>\n              <div className=\"edit-post-form__editor\">\n                <div className=\"edit-post-form__title input-group mb-3\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    placeholder={article.title}\n                    name=\"title\"\n                    value={title}\n                    onChange={handleInputChange}\n                    required\n                  />\n                </div>\n                <div className=\"edit-post-form__content form-group\">\n                  <textarea\n                    className=\"form-control\"\n                    placeholder={article.body}\n                    name=\"body\"\n                    value={body}\n                    onChange={handleInputChange}\n                    required\n                  ></textarea>\n                </div>\n              </div>\n\n              <div className=\"edit-post-form__submit\">\n                <input\n                  type=\"submit\"\n                  value=\"SUBMIT\"\n                  className=\"edit-post-form__submit-btn\"\n                />\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport { useHistory } from 'react-router'\n\nimport { Loading } from '../../components/App/App'\nimport './login.css'\n// import { getMe, login } from '../../WebAPI'\nimport { login, setLoginError } from '../../redux/reducers/userReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\nexport default function LoginPage() {\n  const [formData, setFormData] = useState({\n    username: '',\n    password: ''\n  })\n  const { username, password } = formData\n  const updateFormData = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const isLoadingMsg = useSelector((store) => store.users.isLoading)\n  const errorMsg = useSelector((store) => store.users.loginError)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    dispatch(login({ username, password, history }))\n  }\n\n  useEffect(() => {\n    return () => {\n      dispatch(setLoginError(null))\n    }\n  }, [dispatch])\n\n  return (\n    <div className=\"login-wrapper\">\n      <ResetStyle />\n      <GlobalStyle />\n      {isLoadingMsg && <Loading>Loading...</Loading>}\n      <div className=\"login-container\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"login-form\">\n            USERNAME\n            <br />\n            <input\n              className=\"login-input\"\n              type=\"text\"\n              name=\"username\"\n              value={username}\n              onChange={(e) => updateFormData(e)}\n              required\n            />\n            <br />\n          </div>\n          <div className=\"login-form\">\n            PASSWORD\n            <br />\n            <input\n              className=\"login-input\"\n              type=\"password\"\n              name=\"password\"\n              value={password}\n              onChange={(e) => updateFormData(e)}\n              required\n            />\n            <br />\n            <span>{errorMsg}</span>\n          </div>\n          <div>\n            <input className=\"login-submit\" type=\"submit\" value=\"SIGN IN\" />\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport { useHistory } from 'react-router'\nimport { Loading } from '../../components/App/App'\nimport './register.css'\nimport { register, setRegisterError } from '../../redux/reducers/userReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\nexport default function RegisterPage() {\n  const [formData, setFormData] = useState({\n    nickname: '',\n    username: '',\n    password: ''\n  })\n  const { nickname, username, password } = formData\n  const updateFormData = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    })\n  }\n\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const isLoadingMsg = useSelector((store) => store.users.isLoading)\n  const errorMsg = useSelector((store) => store.users.registerError)\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    dispatch(register({ nickname, username, password, history }))\n  }\n\n  useEffect(() => {\n    return () => {\n      dispatch(setRegisterError(null))\n    }\n  }, [dispatch])\n\n  return (\n    <div className=\"register-wrapper\">\n      <ResetStyle />\n      <GlobalStyle />\n      {isLoadingMsg && <Loading>Loading...</Loading>}\n      <div className=\"register-container\">\n        <form onSubmit={handleSubmit}>\n          <div className=\"register-form\">\n            NICKNAME\n            <br />\n            <input\n              className=\"register-input\"\n              type=\"text\"\n              name=\"nickname\"\n              placeholder=\"您的暱稱\"\n              value={nickname}\n              onChange={(e) => updateFormData(e)}\n              required\n            />\n            <br />\n          </div>\n          <div className=\"register-form\">\n            USERNAME\n            <br />\n            <input\n              className=\"register-input\"\n              type=\"text\"\n              name=\"username\"\n              placeholder=\"您的使用者名稱\"\n              value={username}\n              onChange={(e) => updateFormData(e)}\n              required\n            />\n            <br />\n          </div>\n          <div className=\"register-form\">\n            PASSWORD\n            <br />\n            <input\n              className=\"register-input\"\n              type=\"password\"\n              name=\"password\"\n              placeholder=\"您的密碼\"\n              value={password}\n              onChange={(e) => updateFormData(e)}\n              required\n            />\n            <br />\n            <span>{errorMsg}</span>\n          </div>\n          <div>\n            <input className=\"register-submit\" type=\"submit\" value=\"SUBMIT\" />\n          </div>\n        </form>\n      </div>\n    </div>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useHistory } from 'react-router'\nimport { ResetStyle, GlobalStyle } from '../../globalStyle'\nimport './article.css'\nimport { useParams } from 'react-router-dom'\nimport { Loading } from '../../components/App/App'\nimport { getPost, setPost, deletePost } from '../../redux/reducers/postReducer'\nimport { useDispatch, useSelector } from 'react-redux'\n\nexport default function ArticlePage() {\n  const user = useSelector((store) => store.users.user)\n  const params = useParams()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const isLoadingPostMsg = useSelector((store) => store.posts.isLoadingPost)\n  const article = useSelector((store) => store.posts.post)\n  const isLoadingDeleteMsg = useSelector(\n    (store) => store.posts.isLoadingDeletePost\n  )\n\n  useEffect(() => {\n    dispatch(getPost(params.id))\n  }, [params.id, dispatch])\n\n  const handleClick = () => {\n    history.push('/')\n  }\n\n  const handleDelete = () => {\n    let deleteMsg = window.confirm('確定刪除文章嗎？')\n    if (deleteMsg) {\n      dispatch(deletePost(params.id))\n      history.push('/')\n    }\n  }\n\n  useEffect(() => {\n    return () => {\n      dispatch(setPost(null))\n    }\n  }, [dispatch])\n\n  return (\n    <>\n      <ResetStyle />\n      <GlobalStyle />\n      <div>\n        {article && (\n          <div className=\"article\">\n            {(isLoadingPostMsg || isLoadingDeleteMsg) && (\n              <Loading>Loading...</Loading>\n            )}\n            <h1>{article.title}</h1>\n            <p>{new Date(article.createdAt).toLocaleString()}</p>\n            <div className=\"article__content\">{article.body}</div>\n            <div className=\"article__content-btns\">\n              <button\n                type=\"button\"\n                className=\"article__content-btn btn btn-dark\"\n                onClick={handleClick}\n              >\n                回文章列表\n              </button>\n              <div>\n                {user && (\n                  <a href={`#/edit-post/${params.id}`}>\n                    <button\n                      type=\"button\"\n                      className=\"article__content-btn btn btn-outline-dark\"\n                    >\n                      EDIT\n                    </button>\n                  </a>\n                )}\n                {user && (\n                  <button\n                    type=\"button\"\n                    className=\"article__content-btn btn btn-outline-dark\"\n                    onClick={handleDelete}\n                  >\n                    DELETE\n                  </button>\n                )}\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </>\n  )\n}\n","import { HashRouter as Router, Switch, Route } from 'react-router-dom'\nimport styled from 'styled-components'\nimport Header from '../Header'\nimport HomePage from '../../pages/HomePage'\nimport AboutPage from '../../pages/AboutPage'\nimport PostPage from '../../pages/PostPage'\nimport EditPostPage from '../../pages/EditPostPage'\nimport LoginPage from '../../pages/LoginPage'\nimport RegisterPage from '../../pages/RegisterPage'\nimport ArticlePage from '../../pages/ArticlePage'\nimport { useEffect } from 'react'\nimport { getAuthToken } from '../../utils'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { setUser, getMe } from '../../redux/reducers/userReducer'\n\nconst Root = styled.div`\n  letter-spacing: 1px;\n  max-width: 100vw;\n  font-family: Baskerville, Georgia, 'Times New Roman', Times, serif;\n`\n\nconst Loading = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  left: 0;\n  background: rgba(0, 0, 0, 0.9);\n  font-weight: 600;\n  color: white;\n  font-size: 72px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100vh;\n  z-index: 1;\n`\n\nfunction App() {\n  const dispatch = useDispatch()\n  const user = useSelector((state) => state.users.user)\n\n  useEffect(() => {\n    // 有 token 才 call api\n    if (getAuthToken()) {\n      dispatch(getMe())\n    }\n  }, [dispatch])\n\n  return (\n    <div value={{ user, setUser }}>\n      <Root>\n        <Router>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\">\n              <HomePage />\n            </Route>\n            <Route path=\"/about\">\n              <AboutPage />\n            </Route>\n            <Route path=\"/new-post\">\n              <PostPage />\n            </Route>\n            <Route path=\"/edit-post/:id\">\n              <EditPostPage />\n            </Route>\n            <Route path=\"/login\">\n              <LoginPage />\n            </Route>\n            <Route path=\"/register\">\n              <RegisterPage />\n            </Route>\n            <Route path=\"/posts/:id\">\n              <ArticlePage />\n            </Route>\n          </Switch>\n        </Router>\n      </Root>\n    </div>\n  )\n}\n\nexport { Loading }\n\nexport default App\n","import { configureStore } from '@reduxjs/toolkit'\nimport postReducer from './reducers/postReducer'\nimport userReducer from './reducers/userReducer'\n\nexport default configureStore({\n  reducer: {\n    posts: postReducer,\n    users: userReducer\n  }\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport { ThemeProvider } from 'styled-components'\nimport { Provider } from 'react-redux'\nimport store from './redux/store'\n\nconst theme = {\n  colors: {\n    primary_300: '#3333dd',\n    primary_400: '#e33e3e',\n    primary_500: '#af0505'\n  }\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <ThemeProvider theme={theme}>\n      <App />\n    </ThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}